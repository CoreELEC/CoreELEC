From 3fb9ae83bf25777d3ea4732ef64e47d32f1238b5 Mon Sep 17 00:00:00 2001
From: kszaq <737984+kszaq@users.noreply.github.com>
Date: Mon, 9 Jan 2023 23:30:49 +0100
Subject: [PATCH] AMLCodec: reset m_last_pts on Reset() (e.g. seek)

---
 xbmc/cores/VideoPlayer/DVDCodecs/Video/AMLCodec.cpp | 1 +
 1 file changed, 1 insertion(+)

diff --git a/xbmc/cores/VideoPlayer/DVDCodecs/Video/AMLCodec.cpp b/xbmc/cores/VideoPlayer/DVDCodecs/Video/AMLCodec.cpp
index ffa268eb33..214d9f68c4 100644
--- a/xbmc/cores/VideoPlayer/DVDCodecs/Video/AMLCodec.cpp
+++ b/xbmc/cores/VideoPlayer/DVDCodecs/Video/AMLCodec.cpp
@@ -2278,6 +2278,7 @@ void CAMLCodec::Reset()
 
   // reset some interal vars
   m_cur_pts = DVD_NOPTS_VALUE;
+  m_last_pts = DVD_NOPTS_VALUE;
   m_state = 0;
   m_frameSizes.clear();
   m_frameSizeSum = 0;
